@(message: String)

@scripts ={

<script type="text/javascript" src='@routes.Assets.at("js/app/controllers/mapPlace.js")'></script>

    }

@main(message, scripts) {
    <div class="row-fluid" ng-controller="MapPlaceCtrl">
    <div class="span4">
    <h4>Click to add a marker!</h4>
    <p>{{zoomMessage}}</p>
<ul>
    <li ng-repeat="marker in myMarkers">
        <a ng-click="myMap.panTo(marker.getPosition())">Pan to {{marker.title}}</a>
    </li>
</ul>
</div>

         <!-- this is the confusing part. we have to point the map marker directive
      at an existing google.maps.Marker object, so it can hook up events -->
            <div ng-repeat="marker in myMarkers" ui-map-marker="myMarkers[$index]" ui-event="{'map-click': 'openMarkerInfo(marker)' }">
            </div>

            <div ui-map-info-window="myInfoWindow">
                <fieldset><legend>{{currentMarker.title}}</legend>
                    <dl class="dl-horizontal">
                        <dt>Lat</dt>
                        <dd>{{currentMarkerLat}}</dd>
                        <dt>Long</dt>
                        <dd>{{currentMarkerLng}}</dd>
                    </dl>
                 @*   <input ng-model="currentMarkerLat">
                    <input ng-model="currentMarkerLng">
                 <a ng-click="setMarkerPosition(currentMarker, currentMarkerLat, currentMarkerLng)">Set Position</a>  *@
            </fieldset>
            </div>

            <!-- Giving the div an id="map_canvas" fix problems with twitter bootstrap affecting google maps -->
            <div id="map_canvas" ui-map="myMap" class="map span8"
                ui-event="{'map-click': 'addMarker($event)', 'map-zoom_changed': 'setZoomMessage(myMap.getZoom())' }"
                ui-options="mapOptions">
            </div>

    </div>

    }